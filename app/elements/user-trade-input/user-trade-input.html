<dom-module id="user-trade-input">

  <style>
    :host {
      display: block;
      max-width: 25em;
    }

    #padding{
      padding: 1.7em;
    }

    /*
    Only apply the overflow limits
    when a card is selected, otherwise bad things happen
    to the typeahead
    */
    #padding[card-selected]{
      max-height: 70vh;
      min-height: 15em;
      overflow: auto;
    }

    #setSelector{
      font-size: 0.9em;
    }
  </style>

  <template>

    <paper-material elevation="2">
      <div id="padding" card-selected$="{{_cardSelected}}">

        <preordain-typeahead placeholder="Card"
        on-completed="_cardChosen"
        ></preordain-typeahead>

        <!-- Progressive disclosure, baby -->
        <template is="dom-if" if="[[_cardSelected]]">
          <preordain-printing-selector
          id="setSelector"
          name="[[_workingCard]]" set="{{set}}"
          selected="{{_workingSet}}"
          ></preordain-printing-selector>
        </template>

        <template is="dom-if" if="[[_setSelected]]">
          <paper-input type="number" placeholder="Quantity"
          value="{{_workingQuantity}}"
          ></paper-input>
        </template>

        <div class="flex horizontal layout">
          <template is="dom-if" if="[[_quantitySelected]]">
            <paper-button raised>Add</paper-button>
          </template>
          <div class="flex"></div>
          <paper-button on-tap="_done">Done</paper-button>
        </div>
      </div>
    </paper-material>

  </template>

</dom-module>

<script src="user-trade-input.js"></script>
