<dom-module id="mtg-card">

  <!-- Layout -->
  <style>
    :host {
      display: block;
      max-width: 418px;
    }

    #nameAndCost, #text, #type{
      padding-left: 0.2em;
    }

    #stats{
      padding-right: 1em;
    }

    #imageContainer{
      padding-left: 0em !important;
      padding-right: 0em !important;
      width: 100%;
    }

    .textLine{
      margin-top: 0.5em;
    }
  </style>

  <template>

    <mtg-card-data name="{{name}}" on-data="freshData"></mtg-card-data>

    <div class="vertical layout center" id="cardContainer" color$="{{ColorIdentity}}">
      <div class="horizontal layout self-stretch paper-font-headline" id="nameAndCost">
        <div>{{name}}</div>
        <div class="flex"></div>
        <div><mtg-text text="{{ManaCost}}"></mtg-text></div>  
      </div>

      <div id="imageContainer">
        <mtg-card-art img-src="{{ImageLoc}}"></mtg-card-art>
      </div>

      <div class="self-start paper-font-subhead" id="type">{{Type}}</div>
      
      <div class="self-start paper-font-body1" id="text">  
        <template is="dom-repeat" items="{{TextLines}}">
            <mtg-text class="textLine" text="{{item}}"></mtg-text>
          </template>
      </div>

      <div class="horizontal layout self-end paper-font-title" id="stats">
        <div>
          <template is="dom-if" if="{{isCreature}}">
            <div>
              <span>{{Power}}</span>
              <span>&nbsp;/&nbsp;</span>
              <span>{{Toughness}}</span>
            </div>
          </template>

          <template is="dom-if" if="{{isPlaneswalker}}">
            <span>{{Loyalty}}</span>
          </template>
        </div>

      </div>
    </div>

  </template>

  <!-- Coloring -->
  <style type="text/css">
    #cardContainer{
      border-radius: 0.4em;
    }

    /*Single colors*/
    #cardContainer[color="white"] {
      background:rgba(238, 238, 230,1.0);
    }

    #cardContainer[color="black"] {
      background:rgba(153,148,146,0.4);
    }

    #cardContainer[color="green"] {
      background:rgba(212,228,219,1.0);
    }

    #cardContainer[color="blue"] {
      background:rgba(220,234,243,1.0);
    }

    #cardContainer[color="red"] {
      background:rgba(241,222,212,1.0);
    }

    #cardContainer[color="gold"] {
      background:rgba(214,188,124,0.2);
    }

    #cardContainer[color="land"] {
      background:rgba(209,204,200,1.0);
    }

    #cardContainer[color="artifact"] {
      background:rgba(214,225,231,1.0);
    }

    /*Two colors

      Colors should be in the order they appear
      on the shocklands. The selectors should
      reflect this order as a convention.
    */
    #cardContainer[color*="blue"][color*="black"] {
      background:linear-gradient(
          to right,
          rgba(220,234,243,1.0),
          rgba(153,148,146,0.4)
        );
    }

    #cardContainer[color*="white"][color*="blue"] {
      background:linear-gradient(
          to right,
          rgba(238, 238, 230,1.0),
          rgba(220,234,243,1.0)
        );
    }

    #cardContainer[color*="black"][color*="red"] {
      background:linear-gradient(
          to right,
          rgba(153,148,146,0.4),
          rgba(241,222,212,1.0)
        );
    }

    #cardContainer[color*="red"][color*="green"] {
      background:linear-gradient(
          to right,
          rgba(153,148,146,0.4),
          rgba(212,228,219,1.0)
        );
    }

    #cardContainer[color*="green"][color*="white"] {
      background:linear-gradient(
          to right,
          rgba(212,228,219,1.0),
          rgba(238, 238, 230,1.0)
        );
    }

    #cardContainer[color*="white"][color*="black"] {
      background:linear-gradient(
          to right,
          rgba(238, 238, 230,1.0),
          rgba(153,148,146,0.4)
        );
    }

    #cardContainer[color*="blue"][color*="red"] {
      background:linear-gradient(
          to right,
          rgba(220,234,243,1.0),
          rgba(241,222,212,1.0)
        );
    }

    #cardContainer[color*="black"][color*="green"] {
      background:linear-gradient(
          to right,
          rgba(153,148,146,0.4),
          rgba(212,228,219,1.0)
        );
    }

    #cardContainer[color*="red"][color*="white"] {
      background:linear-gradient(
          to right,
          rgba(241,222,212,1.0),
          rgba(238, 238, 230,1.0)
        );
    }

    #cardContainer[color*="blue"][color*="green"] {
      background:linear-gradient(
          to right,
          rgba(220,234,243,1.0),
          rgba(212,228,219,1.0)
        );
    }

  </style>
</dom-module>

<script src="mtg-card.js"></script>
